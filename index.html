<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>60-Day Planner</title>
<style>
  body {
    background: #0b0b0c;
    color: #fff;
    font-family: Arial, sans-serif;
    margin: 0;
    padding: 20px;
  }
  h1 {
    text-align: center;
    color: #ffd000;
    margin-bottom: 20px;
  }
  .progress-container {
    width: 100%;
    background: #222;
    border-radius: 20px;
    margin: 20px auto;
    height: 20px;
    overflow: hidden;
  }
  .progress-bar {
    height: 100%;
    background: #ffd000;
    width: 0%;
    transition: width 0.3s;
  }
  details {
    margin: 15px 0;
    background: #111;
    border-radius: 12px;
    padding: 10px 15px;
    box-shadow: 0 2px 6px rgba(0,0,0,0.4);
  }
  summary {
    font-size: 1.2em;
    color: #ffd000;
    cursor: pointer;
    outline: none;
  }
  .day-card {
    background: #1a1a1d;
    border-radius: 8px;
    padding: 10px;
    margin: 10px 0;
  }
  .day-card h3 {
    margin: 0 0 8px 0;
    color: #ffd000;
  }
  ul {
    list-style: none;
    padding: 0;
    margin: 0;
  }
  li {
    margin: 6px 0;
  }
  input[type="checkbox"] {
    margin-right: 10px;
  }
</style>
</head>
<body>

<h1>Vanguard — 60 Day Planner</h1>

<div class="progress-container">
  <div class="progress-bar" id="progress-bar"></div>
</div>
<p id="progress-text" style="text-align:center;"></p>

<div id="plan-container"></div>

<script>
const maxDays = 60;
const daysPerWeek = 7;
const container = document.getElementById("plan-container");
const progressBar = document.getElementById("progress-bar");
const progressText = document.getElementById("progress-text");

// Load saved checkbox states
function loadState() {
  return JSON.parse(localStorage.getItem("plannerState") || "{}");
}

// Save checkbox states
function saveState(state) {
  localStorage.setItem("plannerState", JSON.stringify(state));
}

// Update progress bar
function updateProgress() {
  const total = document.querySelectorAll("input[type=checkbox]").length;
  const checked = document.querySelectorAll("input[type=checkbox]:checked").length;
  const percent = Math.round((checked / total) * 100);
  progressBar.style.width = percent + "%";
  progressText.textContent = `${checked} / ${total} tasks completed (${percent}%)`;
}

const state = loadState();

// Intro Day 0
const intro = document.createElement("details");
intro.open = true;
intro.innerHTML = `
  <summary>Day 0 — Introduction</summary>
  <div class="day-card">
    <h3>Day 0 — Intro</h3>
    <ul>
      <li><input type="checkbox" data-id="0-1"> Set your mindset for success</li>
      <li><input type="checkbox" data-id="0-2"> Prepare your environment</li>
      <li><input type="checkbox" data-id="0-3"> Review the 60-day plan</li>
    </ul>
  </div>`;
container.appendChild(intro);

// Weeks
let dayCounter = 1;
for (let w = 1; w <= Math.ceil(maxDays / daysPerWeek); w++) {
  const week = document.createElement("details");
  week.innerHTML = `<summary>Week ${w}</summary>`;

  for (let d = 1; d <= daysPerWeek && dayCounter <= maxDays; d++) {
    const dayCard = document.createElement("div");
    dayCard.className = "day-card";
    dayCard.innerHTML = `
      <h3>Day ${dayCounter}</h3>
      <ul>
        <li><input type="checkbox" data-id="${dayCounter}-1"> Task 1 for Day ${dayCounter}</li>
        <li><input type="checkbox" data-id="${dayCounter}-2"> Task 2 for Day ${dayCounter}</li>
        <li><input type="checkbox" data-id="${dayCounter}-3"> Task 3 for Day ${dayCounter}</li>
      </ul>`;
    week.appendChild(dayCard);
    dayCounter++;
  }
  container.appendChild(week);
}

// Restore checkbox states
document.querySelectorAll("input[type=checkbox]").forEach(cb => {
  if (state[cb.dataset.id]) cb.checked = true;
  cb.addEventListener("change", () => {
    state[cb.dataset.id] = cb.checked;
    saveState(state);
    updateProgress();
  });
});

updateProgress();
</script>

</body>
</html>
